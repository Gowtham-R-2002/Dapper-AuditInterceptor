<!-- Quick Start -->
<section id="quick-start" class="mt-5">
    <div class="card">
        <div class="card-header">
            <h2><i class="fas fa-rocket me-2"></i>Quick Start</h2>
        </div>
        <div class="card-body">
            <h5>1. Install the Package</h5>
            <div class="code-block">
                <pre><code class="language-shell">dotnet add package GR.Dapper.AuditInterceptor</code></pre>
            </div>

            <h5>2. Configure Services</h5>
            <div class="code-block">
                <pre><code class="language-csharp">// Program.cs or Startup.cs
using Dapper.AuditInterceptor;

var builder = WebApplication.CreateBuilder(args);

// Add Dapper Audit Interceptor with default database storage
builder.Services.AddDapperAuditInterceptor(
    builder.Configuration.GetConnectionString("DefaultConnection")!);

var app = builder.Build();</code></pre>
            </div>

            <h5>3. Use in Repository</h5>
            <div class="code-block">
                <pre><code class="language-csharp">public class UserRepository
{
    private readonly IDbConnectionFactory _connectionFactory;

    public UserRepository(IDbConnectionFactory connectionFactory)
    {
        _connectionFactory = connectionFactory;
    }

    public async Task<int> CreateUserAsync(User user)
    {
        using var connection = _connectionFactory.CreateConnection();
        
        var sql = "INSERT INTO Users (Name, Email) VALUES (@Name, @Email)";
        return await connection.ExecuteAsync(sql, user);
    }

    public async Task<int> UpdateUserAsync(User user)
    {
        using var connection = _connectionFactory.CreateConnection();
        
        var sql = "UPDATE Users SET Name = @Name, Email = @Email WHERE Id = @Id";
        return await connection.ExecuteAsync(sql, user);
    }
}</code></pre>
            </div>

            <div class="success">
                <h6><i class="fas fa-check-circle me-2"></i>That's it!</h6>
                <p>Your Dapper operations are now automatically audited with before/after snapshots. The interceptor uses SQL Server's OUTPUT clause for efficient entity capture.</p>
            </div>

            <div class="alert alert-info mt-3">
                <h6><i class="fas fa-info-circle me-2"></i>Alternative Registration Methods</h6>
                <p>For more advanced scenarios, you can use custom audit writers, factory patterns, or manual registration. See the <a href="#custom-audit-writers">Custom Audit Writers</a> section for details.</p>
            </div>

            <h5>4. Verify Installation</h5>
            <div class="code-block">
                <pre><code class="language-sql">-- Check if audit table was created
SELECT * FROM AuditLogs ORDER BY Timestamp DESC;

-- Check for recent audit entries
SELECT 
    EventName,
    TableName,
    OperationType,
    UserId,
    Timestamp
FROM AuditLogs 
WHERE Timestamp >= DATEADD(hour, -1, GETDATE())
ORDER BY Timestamp DESC;</code></pre>
            </div>
        </div>
    </div>
</section> 